{{- if eq .chezmoi.os "windows" -}}
# chezmoi run_once_ script — 安裝 starship prompt（Windows）
# 只在工具不存在時執行安裝，冪等設計

if (Get-Command "starship" -ErrorAction SilentlyContinue) {
    exit 0  # 已安裝，跳過
}

if (-not (Get-Command "scoop" -ErrorAction SilentlyContinue)) {
    Write-Host "scoop not found, cannot install starship." -ForegroundColor Red
    exit 1
}

Write-Host "Installing starship..." -ForegroundColor Cyan
scoop install starship
{{ end -}}
